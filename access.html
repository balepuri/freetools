<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Access Your Free Resources</title>
  <!-- Import Lexend Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;700&display=swap" rel="stylesheet">
  <style>
    /* Basic styles */
    body {
      margin: 0;
      padding: 20px;
      background-color: #f5f5f5;
      font-family: 'Lexend', sans-serif;
      text-align: center;
    }
    .container {
      max-width: 600px;
      margin: 30px auto;
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      opacity: 0;
      animation: fadeIn 0.6s forwards;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .headline1 {
      font-size: 28px;
      font-weight: bold;
      color: #FF0000;
      margin-bottom: 15px;
    }
    .headline2 {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 20px;
    }
    .description {
      font-size: 16px;
      line-height: 1.5;
      margin-bottom: 20px;
    }
    /* Button and input styles */
    .start-button, .next-button, .submit-button, .option-button, .sudah-button, .tidak-button {
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin: 10px auto;
      padding: 15px;
      width: 90%;
      max-width: 500px;
      transition: background 0.3s ease;
      font-size: 18px;
      display: block;
    }
    .start-button { background-color: green; color: white; font-weight: bold; }
    .next-button, .submit-button, .sudah-button { background-color: blue; color: white; font-weight: bold; }
    .tidak-button { background-color: red; color: white; font-weight: bold; }
    .option-button {
      background-color: white;
      border: 2px solid #000;
      border-radius: 8px;
      padding: 15px;
      margin: 10px auto;
      width: 90%;
      max-width: 500px;
      text-align: center;
    }
    .option-button:hover { background-color: #ddd; }
    .input-field {
      width: 90%;
      max-width: 500px;
      padding: 10px;
      font-size: 18px;
      border: 2px solid #000;
      border-radius: 10px;
      margin: 10px auto;
      display: block;
      text-align: center;
    }
    .hidden { display: none; }
    .review-link {
      font-size: 18px;
      color: blue;
      text-decoration: underline;
      cursor: pointer;
      display: inline-block;
      margin: 20px 0;
    }
    .spacer { margin-top: 20px; }
  </style>
</head>
<body>
  <!-- Hidden iframe for submission -->
  <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"></iframe>
  
  <!-- Introduction Section -->
  <div class="container" id="introContainer">
    <div class="headline1">Kalo Anda isi form di bawah ini, Anda dapat Akses ke semua Toolsnya!</div>
    <div class="headline2">YUK ISI INI UNTUK DAPETIN 3 TOOLS DARIPADA 1</div>
    <div class="description">
      ✅ 20K+ ChatGPT Prompts to Boost Your Work 1000x Faster<br>
      ✅ 1400+ AI Tools to Boost Your Work 1000x Faster<br>
      ✅ Financial Management to Stop Losing Money Every Month
    </div>
    <button class="start-button" onclick="startForm()">Saya Mau Tools Nya!</button>
  </div>
  
  <!-- Form Section (hidden initially) -->
  <div class="container hidden" id="formContainer">
    <div id="questionContainer">
      <div id="questionText" class="headline2"></div>
    </div>
    <div id="optionsContainer"></div>
    <!-- Next button for input-based questions -->
    <button class="next-button hidden" id="nextButton" onclick="nextQuestion()">Next</button>
  </div>
  
  <script>
    // Global configuration
    const googleFormURL = "https://docs.google.com/forms/d/e/1FAIpQLSc2JwE2CHpg6kOhEMpoV5w28Sl2HCwD4Zis0i_Zx2tkm_PzmA/formResponse";
    let formData = {};
    let currentQuestion = 0;
    const questions = [
      { field: "usia", text: "Usia Anda", type: "input", placeholder: "Tulis Disini" },
      { field: "gender", text: "Gender", type: "multiple", options: ["Laki-laki", "Perempuan", "Yang lain"] },
      { field: "pekerjaan", text: "Status Pekerjaan", type: "multiple", options: ["Karyawan Swasta", "Wiraswasta/Entrepreneur", "Freelancer", "Yang lain"] },
      { field: "gaji", text: "Rata-rata gaji pekerjaan", type: "multiple", options: ["1jt-20jt/bulan", "20jt-50jt/bulan", "50jt-100jt/bulan", "100jt-200jt/bulan", "200jt+/bulan"] },
      { field: "alasan", text: "Apa yang membuat Anda ingin menginap di Bale?", type: "multiple", options: ["Ada acara dekat lokasi", "Desain bangunan bagus", "Ada pekerjaan kantor", "Ingin konsentrasi bekerja", "Bosan di rumah", "Yang lain"] },
      { field: "topik", text: "Topic mana yang menarik bagi kamu?", type: "multiple", options: ["Cara kamu bisa membangun bisnis 100jt/bln", "Cara menghasilkan 100jt/bln dengan skill yang sudah kamu punyai", "Cara kita membangun bisnis 500jt/bln", "Cara mencapai kebebasan finansial di dunia karir dan bisnis"] },
      { field: "wa", text: "Maukah Anda mendapatkan update? (Jika Iya, tulis No WA Kamu)", type: "wa", placeholder: "Tulis No WA Kamu disini:" },
      { field: "review", text: "Review Hotel Bale Puri untuk mendapatkan 4 Tools GRATIS", type: "review", url: "https://search.google.com/local/writereview?placeid=ChIJm7ZyzD73aS4Rp9VEEs85aoY" }
    ];
    
    function startForm() {
      document.getElementById("introContainer").classList.add("hidden");
      document.getElementById("formContainer").classList.remove("hidden");
      currentQuestion = 0;
      formData = {};
      loadQuestion();
    }
    
    function loadQuestion() {
      const questionTextEl = document.getElementById("questionText");
      const optionsContainer = document.getElementById("optionsContainer");
      const nextButton = document.getElementById("nextButton");
      nextButton.classList.add("hidden");
      optionsContainer.innerHTML = "";
      const questionObj = questions[currentQuestion];
      questionTextEl.textContent = questionObj.text;
      questionTextEl.style.opacity = 0;
      setTimeout(() => { questionTextEl.style.opacity = 1; }, 100);
      
      if (questionObj.type === "input") {
        const inputField = document.createElement("input");
        inputField.type = "text";
        inputField.placeholder = questionObj.placeholder;
        inputField.className = "input-field";
        inputField.addEventListener("keydown", e => { if(e.key === "Enter") e.preventDefault(); });
        inputField.addEventListener("input", function() {
          if (this.value.trim() !== "") nextButton.classList.remove("hidden");
          else nextButton.classList.add("hidden");
        });
        optionsContainer.appendChild(inputField);
      } else if (questionObj.type === "multiple") {
        questionObj.options.forEach(option => {
          const btn = document.createElement("button");
          btn.className = "option-button";
          btn.textContent = option;
          btn.style.textAlign = "center";
          btn.addEventListener("click", function() {
            if (option === "Yang lain") {
              optionsContainer.innerHTML = "";
              const extraInput = document.createElement("input");
              extraInput.type = "text";
              extraInput.placeholder = "Tulis Disini";
              extraInput.className = "input-field";
              extraInput.dataset.isExtra = "true";
              extraInput.addEventListener("keydown", e => { if(e.key === "Enter") e.preventDefault(); });
              extraInput.addEventListener("input", function() {
                if (this.value.trim() !== "") nextButton.classList.remove("hidden");
                else nextButton.classList.add("hidden");
              });
              optionsContainer.appendChild(extraInput);
              nextButton.classList.add("hidden");
            } else {
              formData[questionObj.field] = option;
              currentQuestion++;
              loadQuestion();
            }
          });
          optionsContainer.appendChild(btn);
        });
      } else if (questionObj.type === "wa") {
        const waInput = document.createElement("input");
        waInput.type = "text";
        waInput.placeholder = questionObj.placeholder;
        waInput.className = "input-field";
        waInput.addEventListener("keydown", e => { if(e.key === "Enter") e.preventDefault(); });
        const tidakBtn = document.createElement("button");
        tidakBtn.className = "tidak-button";
        tidakBtn.textContent = "Tidak Mau";
        tidakBtn.addEventListener("click", function() {
          formData[questionObj.field] = "Tidak diisi";
          currentQuestion++;
          loadQuestion();
        });
        waInput.addEventListener("focus", function() {
          tidakBtn.classList.add("hidden");
          nextButton.classList.remove("hidden");
        });
        waInput.addEventListener("input", function() {
          if (this.value.trim() !== "") nextButton.classList.remove("hidden");
          else nextButton.classList.add("hidden");
        });
        optionsContainer.appendChild(waInput);
        optionsContainer.appendChild(tidakBtn);
      } else if (questionObj.type === "review") {
        const reviewLink = document.createElement("a");
        reviewLink.href = questionObj.url;
        reviewLink.target = "_blank";
        reviewLink.textContent = "Klik Disini untuk Review";
        reviewLink.className = "review-link";
        optionsContainer.appendChild(reviewLink);
        const sudahButton = document.createElement("button");
        sudahButton.className = "sudah-button hidden";
        sudahButton.textContent = "Sudah :)";
        sudahButton.addEventListener("click", function() {
          formData[questionObj.field] = "Review Selesai";
          // Clear the form container and show a final Submit button.
          const formContainer = document.getElementById("formContainer");
          formContainer.innerHTML = "";
          const submitBtn = document.createElement("button");
          submitBtn.className = "submit-button";
          submitBtn.textContent = "Submit";
          submitBtn.addEventListener("click", submitForm);
          formContainer.appendChild(submitBtn);
        });
        optionsContainer.appendChild(sudahButton);
        reviewLink.addEventListener("click", function() {
          setTimeout(function() {
            sudahButton.classList.remove("hidden");
          }, 300);
        });
      }
    }
    
    function nextQuestion() {
      const questionObj = questions[currentQuestion];
      const optionsContainer = document.getElementById("optionsContainer");
      const nextButton = document.getElementById("nextButton");
      if (questionObj.type === "input" || questionObj.type === "wa") {
        const inputEl = optionsContainer.querySelector("input");
        if (inputEl && inputEl.value.trim() !== "") {
          formData[questionObj.field] = inputEl.value.trim();
        }
      }
      if (questionObj.type === "multiple") {
        const extraInput = optionsContainer.querySelector("input[data-isExtra='true']");
        if (extraInput && extraInput.value.trim() !== "") {
          formData[questionObj.field] = extraInput.value.trim();
        }
      }
      currentQuestion++;
      if (currentQuestion < questions.length) {
        loadQuestion();
      }
    }
    
    // Submit the data using fetch with no-cors, including additional hidden fields.
    function submitForm() {
      const params = new URLSearchParams();
      params.append("entry.1323137343", formData.usia || "");
      params.append("entry.10500223", formData.gender || "");
      params.append("entry.1913345056", formData.pekerjaan || "");
      params.append("entry.2003393552", formData.gaji || "");
      params.append("entry.1600460597", formData.alasan || "");
      params.append("entry.877310165", formData.topik || "");
      params.append("entry.348784797", formData.wa || "Tidak diisi");
      params.append("entry.823384673", formData.review || "");
      
      // Additional hidden fields that Google Form may expect:
      params.append("fvv", "1");
      params.append("pageHistory", "0");
      params.append("fbzx", "1234567890"); // Replace with the fbzx value from your form source if available.
      params.append("submissionTimestamp", "-1");
      
      fetch(googleFormURL, {
        method: "POST",
        mode: "no-cors",
        headers: { "Content-Type": "application/x-www-form-urlencoded" },
        body: params.toString()
      }).then(() => {
        window.location.href = "https://balepuri.github.io/unlockedfree/";
      }).catch(error => {
        console.error("Error!", error);
        window.location.href = "https://balepuri.github.io/unlockedfree/";
      });
    }
    
    document.addEventListener("keydown", function(e) {
      if (e.key === "Enter") {
        const activeEl = document.activeElement;
        if (activeEl.tagName === "INPUT" && activeEl.value.trim() === "") {
          e.preventDefault();
        }
      }
    });
  </script>
  
  <div class="spacer"></div>
</body>
</html>
